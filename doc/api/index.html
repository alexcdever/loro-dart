<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="flutter_loro_ffi API docs, for the Dart programming language.">
  <title>flutter_loro_ffi - Dart API docs</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="static-assets/github.css?v1">
  <link rel="stylesheet" href="static-assets/styles.css?v1">
  <link rel="icon" href="static-assets/favicon.png?v1">
  
</head>

<body data-base-href="" data-using-base-href="false" class="light-theme">
<div id="overlay-under-drawer"></div>
<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li class="self-crumb">flutter_loro_ffi package</li>
  </ol>
  <div class="self-name">flutter_loro_ffi</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <button class="toggle" id="theme-button" title="Toggle between light and dark mode" aria-label="Light and dark mode toggle">
    <span id="dark-theme-button" class="material-symbols-outlined" aria-hidden="true">
      dark_mode
    </span>
    <span id="light-theme-button" class="material-symbols-outlined" aria-hidden="true">
      light_mode
    </span>
  </button>
</header>
<main>
  <div id="dartdoc-main-content" class="main-content">
      
<section class="desc markdown">
  <h1 id="flutter-loro-ffi">Flutter Loro FFI</h1>
<p>Flutteræ’ä»¶ï¼Œç”¨äºLoro FFIç»‘å®šï¼Œæä¾›é«˜æ€§èƒ½ã€æ˜“ç”¨çš„CRDTæ–‡æ¡£ç®¡ç†æ¥å£ã€‚</p>
<h2 id="-">ğŸŒŸ ç‰¹æ€§</h2>
<ul>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šåŸºäºRust Loroåº“æ„å»ºï¼Œæ•ˆç‡æé«˜</li>
<li><strong>æ˜“ç”¨æ€§</strong>ï¼šé¢å‘å¯¹è±¡çš„Dart APIï¼Œé…å¤‡å®Œæ•´æ–‡æ¡£</li>
<li><strong>è·¨å¹³å°</strong>ï¼šæ”¯æŒAndroidã€iOSã€Windowsã€macOSå’ŒLinux</li>
<li><strong>CRDTåŒæ­¥</strong>ï¼šå†…ç½®æ”¯æŒæ— å†²çªå¤åˆ¶æ•°æ®ç±»å‹</li>
<li><strong>å®æ—¶åä½œ</strong>ï¼šæ”¯æŒå®æ—¶æ–‡æ¡£åŒæ­¥</li>
<li><strong>å¯é æ€§</strong>ï¼šå…¨é¢çš„é”™è¯¯å¤„ç†å’Œèµ„æºç®¡ç†</li>
</ul>
<h2 id="--2">ğŸ“‹ è¦æ±‚</h2>
<ul>
<li>Flutter 2.10.0æˆ–æ›´é«˜ç‰ˆæœ¬</li>
<li>Dart 2.17.0æˆ–æ›´é«˜ç‰ˆæœ¬</li>
</ul>
<h2 id="--3">ğŸš€ å¿«é€Ÿå¼€å§‹</h2>
<h3 id="">å®‰è£…</h3>
<p>å°†<code>flutter_loro_ffi</code>æ·»åŠ åˆ°æ‚¨çš„<code>pubspec.yaml</code>ä¾èµ–ä¸­ï¼š</p>
<pre class="language-yaml"><code class="language-yaml">dependencies:
  flutter_loro_ffi: ^0.1.0
</code></pre>
<p>ç„¶åè¿è¡Œï¼š</p>
<pre class="language-bash"><code class="language-bash">flutter pub get
</code></pre>
<h3 id="-2">åŸºæœ¬ä½¿ç”¨</h3>
<pre class="language-dart"><code class="language-dart">import 'package:flutter_loro_ffi/loro_ffi.dart';

void main() {
  // åˆ›å»ºæ–‡æ¡£å®ä¾‹
  final doc = LoroDoc();
  
  try {
    // è®¾ç½®PeerIDï¼ˆå¯é€‰ï¼Œç”¨äºåŒºåˆ†ä¸åŒè®¾å¤‡/ç”¨æˆ·ï¼‰
    doc.setPeerId(12345);
    
    // æ’å…¥æ–‡æœ¬
    doc.insertText("Hello, ", 0);
    doc.insertText("World!", 7);
    
    // æäº¤äº‹åŠ¡
    doc.commit();
    
    // è·å–æ–‡æœ¬å†…å®¹
    final text = doc.getText();
    print("æ–‡æ¡£å†…å®¹: $text"); // è¾“å‡º: æ–‡æ¡£å†…å®¹: Hello, World!
    
    // å¯¼å‡ºæ›´æ–°ï¼ˆç”¨äºåŒæ­¥ï¼‰
    final updates = doc.exportAllUpdates();
    print("å¯¼å‡ºçš„æ›´æ–°å¤§å°: ${updates.length} å­—èŠ‚");
    
    // åˆ›å»ºå¦ä¸€ä¸ªæ–‡æ¡£å¹¶å¯¼å…¥æ›´æ–°
    final doc2 = LoroDoc();
    doc2.import(updates);
    print("åŒæ­¥åçš„æ–‡æ¡£å†…å®¹: ${doc2.getText()}"); // è¾“å‡º: åŒæ­¥åçš„æ–‡æ¡£å†…å®¹: Hello, World!
    
    doc2.dispose();
  } finally {
    // é‡Šæ”¾èµ„æº
    doc.dispose();
  }
}
</code></pre>
<h2 id="-api">ğŸ“š APIå‚è€ƒ</h2>
<h3 id="lorodoc">LoroDoc</h3>
<h4 id="-3">æ„é€ å‡½æ•°</h4>
<pre class="language-dart"><code class="language-dart">LoroDoc()
</code></pre>
<p>åˆ›å»ºä¸€ä¸ªæ–°çš„Loroæ–‡æ¡£å®ä¾‹ã€‚</p>
<h4 id="-4">æ–¹æ³•</h4>
<h5 id="inserttextstring-text-int-position"><code>insertText(String text, int position)</code></h5>
<p>åœ¨æŒ‡å®šä½ç½®æ’å…¥æ–‡æœ¬ã€‚</p>
<ul>
<li><strong>å‚æ•°</strong>:
<ul>
<li><code>text</code>: è¦æ’å…¥çš„æ–‡æœ¬å†…å®¹</li>
<li><code>position</code>: æ’å…¥ä½ç½®çš„ç´¢å¼•</li>
</ul>
</li>
</ul>
<h5 id="deletetextint-start-int-length"><code>deleteText(int start, int length)</code></h5>
<p>ä»æŒ‡å®šä½ç½®å¼€å§‹åˆ é™¤æŒ‡å®šé•¿åº¦çš„æ–‡æœ¬ã€‚</p>
<ul>
<li><strong>å‚æ•°</strong>:
<ul>
<li><code>start</code>: åˆ é™¤èµ·å§‹ä½ç½®çš„ç´¢å¼•</li>
<li><code>length</code>: è¦åˆ é™¤çš„æ–‡æœ¬é•¿åº¦</li>
</ul>
</li>
</ul>
<h5 id="gettext"><code>getText()</code></h5>
<p>è·å–å½“å‰æ–‡æ¡£çš„æ–‡æœ¬å†…å®¹ã€‚</p>
<ul>
<li><strong>è¿”å›</strong>: å½“å‰æ–‡æ¡£çš„æ–‡æœ¬å†…å®¹</li>
</ul>
<h5 id="commit"><code>commit()</code></h5>
<p>æäº¤å½“å‰äº‹åŠ¡ï¼Œå°†æ‰€æœ‰æ“ä½œæŒä¹…åŒ–ã€‚</p>
<h5 id="exportallupdates"><code>exportAllUpdates()</code></h5>
<p>å¯¼å‡ºæ–‡æ¡£çš„æ‰€æœ‰æ›´æ–°ï¼Œç”¨äºåŒæ­¥åˆ°å…¶ä»–è®¾å¤‡ã€‚</p>
<ul>
<li><strong>è¿”å›</strong>: åŒ…å«æ‰€æœ‰æ›´æ–°çš„å­—èŠ‚åˆ—è¡¨</li>
</ul>
<h5 id="importlistint-data"><code>import(List&lt;int&gt; data)</code></h5>
<p>ä»å…¶ä»–è®¾å¤‡å¯¼å…¥æ›´æ–°ï¼Œç”¨äºåŒæ­¥æ–‡æ¡£ã€‚</p>
<ul>
<li><strong>å‚æ•°</strong>:
<ul>
<li><code>data</code>: åŒ…å«æ›´æ–°æ•°æ®çš„å­—èŠ‚åˆ—è¡¨</li>
</ul>
</li>
</ul>
<h5 id="setpeeridint-peerid"><code>setPeerId(int peerId)</code></h5>
<p>è®¾ç½®æ–‡æ¡£çš„PeerIDï¼Œç”¨äºæ ‡è¯†ä¸åŒçš„è®¾å¤‡æˆ–ç”¨æˆ·ã€‚</p>
<ul>
<li><strong>å‚æ•°</strong>:
<ul>
<li><code>peerId</code>: è¦è®¾ç½®çš„PeerID</li>
</ul>
</li>
</ul>
<h5 id="getpeerid"><code>getPeerId()</code></h5>
<p>è·å–å½“å‰æ–‡æ¡£çš„PeerIDã€‚</p>
<ul>
<li><strong>è¿”å›</strong>: å½“å‰æ–‡æ¡£çš„PeerID</li>
</ul>
<h5 id="dispose"><code>dispose()</code></h5>
<p>é‡Šæ”¾æ–‡æ¡£èµ„æºï¼Œå¿…é¡»åœ¨ä¸å†ä½¿ç”¨æ–‡æ¡£æ—¶è°ƒç”¨ã€‚</p>
<h2 id="--4">ğŸ§ª æµ‹è¯•</h2>
<h3 id="-5">è¿è¡Œæµ‹è¯•</h3>
<pre class="language-bash"><code class="language-bash">flutter test
</code></pre>
<h3 id="-6">è¿è¡Œå¸¦è¦†ç›–ç‡çš„æµ‹è¯•</h3>
<pre class="language-bash"><code class="language-bash">flutter test --coverage
genhtml -o coverage coverage/lcov.info
</code></pre>
<h3 id="-7">åŸºå‡†æµ‹è¯•</h3>
<pre class="language-bash"><code class="language-bash">dart test/benchmark_test.dart
</code></pre>
<h2 id="--5">ğŸ“± å¹³å°æ”¯æŒ</h2>
<table>
<thead>
<tr>
<th>å¹³å°</th>
<th>æ¶æ„</th>
</tr>
</thead>
<tbody>
<tr>
<td>Android</td>
<td>arm64-v8a, armeabi-v7a</td>
</tr>
<tr>
<td>iOS</td>
<td>arm64, x86_64</td>
</tr>
<tr>
<td>Windows</td>
<td>x64</td>
</tr>
<tr>
<td>macOS</td>
<td>x64, arm64</td>
</tr>
<tr>
<td>Linux</td>
<td>x64</td>
</tr>
</tbody>
</table>
<h2 id="--6">ğŸ”§ å¼€å‘</h2>
<h3 id="-8">æ„å»ºåŸç”Ÿåº“</h3>
<pre class="language-bash"><code class="language-bash"># ä¸ºæ‰€æœ‰å¹³å°æ„å»º
flutter build ffi

# ä¸ºç‰¹å®šå¹³å°æ„å»º
flutter build ffi --target-platform android-arm64
</code></pre>
<h3 id="-9">ç”Ÿæˆæ–‡æ¡£</h3>
<pre class="language-bash"><code class="language-bash">dart doc
</code></pre>
<h2 id="--7">ğŸ“ ç¤ºä¾‹</h2>
<p>æŸ¥çœ‹<a href="example/">example</a>ç›®å½•ï¼Œè·å–ä¸€ä¸ªå®Œæ•´çš„Flutteråº”ç”¨ï¼Œæ¼”ç¤º<code>flutter_loro_ffi</code>çš„ä½¿ç”¨æ–¹æ³•ã€‚</p>
<h2 id="--8">ğŸ”— ç›¸å…³é“¾æ¥</h2>
<ul>
<li><a href="https://github.com/loro-dev/loro.git">Loroå®˜æ–¹ä»“åº“</a></li>
<li><a href="https://dart.dev/guides/libraries/c-interop">FFIæ–‡æ¡£</a></li>
<li><a href="https://flutter.dev/docs">Flutteræ–‡æ¡£</a></li>
</ul>
<h2 id="--9">ğŸ“„ è®¸å¯è¯</h2>
<p>æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - è¯¦è§<a href="LICENSE">LICENSE</a>æ–‡ä»¶ã€‚</p>
<h2 id="--10">ğŸ¤ è´¡çŒ®</h2>
<p>æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤Pull Requestã€‚</p>
<h2 id="--11">ğŸ“§ æ”¯æŒ</h2>
<p>å¦‚æœæ‚¨é‡åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰ç–‘é—®ï¼Œè¯·æäº¤<a href="https://github.com/alexcdever/loro-dart/issues">issue</a>ã€‚</p>
<hr>
<p>ç”±Loroå›¢é˜Ÿç”¨å¿ƒåˆ¶ä½œ â¤ï¸</p>
</section>


      <section class="summary">
          <h2>Libraries</h2>
        <dl>
          <dt id="flutter_loro_ffi">
  <span class="name"><a href="flutter_loro_ffi/">loro_ffi</a></span> 

</dt>
<dd>Flutter Loro FFI æ’ä»¶ä¸»å…¥å£
</dd>

        </dl>
      </section>
  </div> <!-- /.main-content -->
  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>
<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li class="self-crumb">flutter_loro_ffi package</li>
</ol>

    <h5 class="hidden-xs"><span class="package-name">flutter_loro_ffi</span> <span class="package-kind">package</span></h5>
    <ol>
      <li class="section-title">Libraries</li>
      <li><a href="flutter_loro_ffi/">loro_ffi</a></li>
</ol>

  </div>
  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div>
</main>
<footer>
  <span class="no-break">
    flutter_loro_ffi
      0.1.0
  </span>
  
</footer>


<script src="static-assets/highlight.pack.js?v1"></script>
<script src="static-assets/docs.dart.js"></script>

</body>
</html>

